<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="iOS," />








  <link rel="shortcut icon" type="image/x-icon" href="/logo.png?v=5.0.1" />






<meta name="description" content="TableView&amp;#x4E4B;&amp;#x534F;&amp;#x8BAE;&amp;#x6258;&amp;#x7BA1;&amp;#x4E00;&amp;#x76F4;&amp;#x4EE5;&amp;#x6765;&amp;#xFF0C;UITableView&amp;#x5728;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x7A0B;&amp;#x5E8F;&amp;#x5F00;&amp;#x53D1;&amp;#x4E2D;&amp;#x90FD;&amp;#x626E;&amp;#x6F14;&amp;#x7">
<meta name="keywords" content="iOS">
<meta property="og:type" content="article">
<meta property="og:title" content="TableView之协议托管">
<meta property="og:url" content="https://github.com/JyHu/2018/03/01/TableView之协议托管/index.html">
<meta property="og:site_name" content="Joyous&#39;s Home">
<meta property="og:description" content="TableView&amp;#x4E4B;&amp;#x534F;&amp;#x8BAE;&amp;#x6258;&amp;#x7BA1;&amp;#x4E00;&amp;#x76F4;&amp;#x4EE5;&amp;#x6765;&amp;#xFF0C;UITableView&amp;#x5728;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x7A0B;&amp;#x5E8F;&amp;#x5F00;&amp;#x53D1;&amp;#x4E2D;&amp;#x90FD;&amp;#x626E;&amp;#x6F14;&amp;#x7">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://oi21rq6v4.bkt.clouddn.com/2018-03-01-TableRelation.png">
<meta property="og:image" content="http://oi21rq6v4.bkt.clouddn.com/2018-03-01-visiable_table.png">
<meta property="og:updated_time" content="2018-03-02T04:09:38.741Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="TableView之协议托管">
<meta name="twitter:description" content="TableView&amp;#x4E4B;&amp;#x534F;&amp;#x8BAE;&amp;#x6258;&amp;#x7BA1;&amp;#x4E00;&amp;#x76F4;&amp;#x4EE5;&amp;#x6765;&amp;#xFF0C;UITableView&amp;#x5728;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x7A0B;&amp;#x5E8F;&amp;#x5F00;&amp;#x53D1;&amp;#x4E2D;&amp;#x90FD;&amp;#x626E;&amp;#x6F14;&amp;#x7">
<meta name="twitter:image" content="http://oi21rq6v4.bkt.clouddn.com/2018-03-01-TableRelation.png">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Joyous'
    }
  };
</script>




  <link rel="canonical" href="https://github.com/JyHu/2018/03/01/TableView之协议托管/"/>

  <title> TableView之协议托管 | Joyous's Home </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Joyous's Home</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                TableView之协议托管
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2018-03-01T22:04:22+08:00" content="2018-03-01">
              2018-03-01
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2018/03/01/TableView之协议托管/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2018/03/01/TableView之协议托管/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="TableView&#x4E4B;&#x534F;&#x8BAE;&#x6258;&#x7BA1;"><a href="#TableView&#x4E4B;&#x534F;&#x8BAE;&#x6258;&#x7BA1;" class="headerlink" title="TableView&#x4E4B;&#x534F;&#x8BAE;&#x6258;&#x7BA1;"></a>TableView&#x4E4B;&#x534F;&#x8BAE;&#x6258;&#x7BA1;</h1><p>&#x4E00;&#x76F4;&#x4EE5;&#x6765;&#xFF0C;<code>UITableView</code>&#x5728;&#x6211;&#x4EEC;&#x7684;&#x7A0B;&#x5E8F;&#x5F00;&#x53D1;&#x4E2D;&#x90FD;&#x626E;&#x6F14;&#x7740;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x89D2;&#x8272;&#xFF0C;&#x968F;&#x7740;&#x5F00;&#x53D1;&#x8005;&#x7684;&#x65E5;&#x76CA;&#x589E;&#x591A;&#x548C;&#x9700;&#x6C42;&#x7684;&#x4E0D;&#x65AD;&#x53D8;&#x5316;&#xFF0C;&#x5C31;&#x51FA;&#x73B0;&#x4E86;&#x5404;&#x79CD;&#x5404;&#x6837;&#x7684;&#x5199;&#x6CD5;&#xFF0C;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x6765;&#x8BF4;&#x4E00;&#x79CD;&#x5F88;&#x65E9;&#x4EE5;&#x524D;&#x5C31;&#x51FA;&#x73B0;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x53EB;&#x505A;&#x534F;&#x8BAE;&#x6258;&#x7BA1;(&#x6211;&#x662F;&#x6CA1;&#x89C1;&#x8FC7;&#x522B;&#x5904;&#x4E13;&#x4E1A;&#x7684;&#x53EB;&#x6CD5;&#xFF0C;&#x6682;&#x4E14;&#x5982;&#x662F;&#x79F0;&#x547C;&#x5427;)&#x3002;<br>&#x5176;&#x5B9E;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x65E9;&#x671F;&#x662F;&#x5728;Facebook&#x5F00;&#x6E90;&#x7684;<code>Three20</code>(<a href="https://github.com/facebookarchive/three20">Github</a>)&#x5C31;&#x6709;&#x4E86;&#xFF0C;&#x4E0D;&#x8FC7;&#x8FD9;&#x4E2A;&#x5E93;&#x6700;&#x540E;&#x4E0D;&#x518D;&#x66F4;&#x65B0;&#xFF1B;&#x968F;&#x540E;&#x8FD9;&#x4E2A;&#x5F00;&#x53D1;&#x56E2;&#x961F;&#x7684;&#x4E00;&#x4E2A;&#x5F00;&#x53D1;&#x8005;&#x505A;&#x4E86;&#x53C8;&#x4E00;&#x5957;&#x7C7B;&#x4F3C;&#x7684;&#x5E93;<code>Nimbus</code>(<a href="https://github.com/jverkoey/nimbus">Github</a>)&#xFF0C;&#x6587;&#x6863;&#x5F88;&#x5168;&#xFF0C;&#x7528;&#x7740;&#x4E5F;&#x5F88;&#x65B9;&#x4FBF;&#xFF0C;&#x4F46;&#x662F;&#x66F4;&#x65B0;&#x4E86;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4EE5;&#x540E;&#x53C8;&#x505C;&#x6B62;&#x4E86;&#x7EF4;&#x62A4;&#x3002;&#x5F53;&#x7136;&#x4E86;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x5E93;&#x4E5F;&#x662F;&#x5305;&#x542B;&#x4E86;&#x5F88;&#x591A;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x4ECA;&#x5929;&#x6240;&#x8BF4;&#x7684;&#x4E5F;&#x53EA;&#x662F;&#x5176;&#x4E2D;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;<br>&#x73B0;&#x5728;&#x7531;&#x4E8E;swift&#x7684;&#x5927;&#x70ED;&#xFF0C;&#x53C8;&#x51FA;&#x73B0;&#x4E00;&#x4E2A;&#x5F88;&#x5F3A;&#x52BF;&#x7684;&#x5E93;<code>Eureka</code>(<a href="https://github.com/xmartlabs/Eureka">Github</a>)&#xFF0C;&#x6709;&#x5174;&#x8DA3;&#x7684;&#x4E5F;&#x53EF;&#x4EE5;&#x53BB;&#x770B;&#x4E00;&#x770B;&#x3002;</p>
<a id="more"></a>
<h2 id="&#x4E00;&#x3001;&#x534F;&#x8BAE;&#x6258;&#x7BA1;"><a href="#&#x4E00;&#x3001;&#x534F;&#x8BAE;&#x6258;&#x7BA1;" class="headerlink" title="&#x4E00;&#x3001;&#x534F;&#x8BAE;&#x6258;&#x7BA1;"></a>&#x4E00;&#x3001;&#x534F;&#x8BAE;&#x6258;&#x7BA1;</h2><p>&#x770B;&#x4E86;&#x4E0A;&#x7BC7;&#x6587;&#x7AE0;&#x6216;&#x8005;&#x6CA1;&#x770B;&#x7684;&#xFF0C;&#x90FD;&#x77E5;&#x9053;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;<code>UITableView</code>&#x6765;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x4E3B;&#x8981;&#x7684;&#x65F6;&#x95F4;&#x90FD;&#x662F;&#x82B1;&#x5728;&#x5176;&#x4E24;&#x4E2A;&#x534F;&#x8BAE;&#x4E0A;&#xFF0C;&#x800C;&#x4E14;&#x7531;&#x4E8E;&#x82F9;&#x679C;&#x5BF9;&#x534F;&#x8BAE;&#x65B9;&#x6CD5;&#x7684;&#x5206;&#x6563;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x5728;&#x591A;&#x4E2A;&#x5730;&#x65B9;&#x505A;&#x4E86;&#x8FC7;&#x591A;&#x91CD;&#x590D;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;&#x7B2C;&#x4E00;&#x6B65;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x63A5;&#x7BA1;&#x8FD9;&#x4E24;&#x4E2A;&#x534F;&#x8BAE;&#xFF1A;</p>
<ol>
<li>&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x7C7B;<code>AUUTableModel</code>&#x6765;&#x63A5;&#x7BA1;<code>UITableViewDataSource</code>&#xFF0C;&#x7528;&#x6765;&#x5904;&#x7406;<code>TableView</code>&#x7684;&#x6570;&#x636E;&#x6E90;&#x3002;</li>
<li>&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x7C7B;<code>AUUTableAction</code>&#x6765;&#x63A5;&#x7BA1;<code>UITableViewDelegate</code>&#xFF0C;&#x7528;&#x6765;&#x5904;&#x7406;<code>TableView</code>&#x7684;&#x65B9;&#x6CD5;&#x56DE;&#x8C03;&#x3001;&#x4E8B;&#x4EF6;&#x63A7;&#x5236;&#x7B49;&#x7B49;&#x3002;</li>
</ol>
<p>&#x6B64;&#x65F6;&#x6211;&#x4EEC;&#x7684;<code>TableView</code>&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x5199;&#x4E86;&#xFF1A;</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">UITableView</span> *)tableView {</div><div class="line">    <span class="keyword">if</span> (!_tableView) {</div><div class="line">        _tableView = [[<span class="built_in">UITableView</span> alloc] initWithFrame:<span class="keyword">self</span>.view.bounds style:<span class="built_in">UITableViewStyleGrouped</span>];</div><div class="line">        _tableView.dataSource = <span class="keyword">self</span>.tableModel;</div><div class="line">        _tableView.delegate = <span class="keyword">self</span>.tableAction;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> _tableView;</div><div class="line">}</div></pre></td></tr></table></figure>
<p>&#x5728;<code>tableModel</code>&#x548C;<code>tableAction</code>&#x91CC;&#x63A5;&#x6536;&#x7684;&#x90FD;&#x662F;&#x4E00;&#x4E9B;&#x534F;&#x8BAE;&#x65B9;&#x6CD5;&#xFF0C;&#x56E0;&#x4E3A;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x7684;&#x65B9;&#x6CD5;&#x91CC;&#x90FD;&#x5E26;&#x6709;<code>UITableView</code>&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x4ED6;&#x4EEC;&#x7684;&#x5173;&#x7CFB;&#x5982;&#x4E0B;&#x56FE;&#xFF1A;</p>
<p><img src="http://oi21rq6v4.bkt.clouddn.com/2018-03-01-TableRelation.png" alt=""></p>
<h2 id="&#x4E8C;&#x3001;&#x5B9A;&#x5236;UITableViewCell"><a href="#&#x4E8C;&#x3001;&#x5B9A;&#x5236;UITableViewCell" class="headerlink" title="&#x4E8C;&#x3001;&#x5B9A;&#x5236;UITableViewCell"></a>&#x4E8C;&#x3001;&#x5B9A;&#x5236;<code>UITableViewCell</code></h2><p>&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x8BB2;&#x7684;&#x5C31;&#x662F;&#x63A5;&#x7BA1;&#x6574;&#x4E2A;<code>tableView</code>&#x7684;&#x5B9A;&#x5236;&#x548C;&#x5904;&#x7406;&#xFF0C;&#x51CF;&#x5C11;&#x5916;&#x90E8;&#x4E0D;&#x65AD;&#x5224;&#x65AD;&#x6240;&#x51FA;&#x73B0;&#x7684;&#x4EE3;&#x7801;&#x6D6A;&#x8D39;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5C31;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x7C7B;&#x6765;&#x7BA1;&#x7406;&#x6BCF;&#x4E2A;cell&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x6765;&#x7528;&#x4E00;&#x4E2A;&#x534F;&#x8BAE;&#x6765;&#x505A;&#x9650;&#x5B9A;&#xFF0C;&#x8BA9;&#x4F7F;&#x7528;&#x8005;&#x53EF;&#x4EE5;&#x81EA;&#x7531;&#x5B9A;&#x5236;&#xFF1A;</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> Cell&#x5BF9;&#x5E94;&#x7684;Object&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x7684;&#x65B9;&#x6CD5;</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="variable">@protocol</span> AUUCellObject &lt;NSObject&gt;</div><div class="line"></div><div class="line"><span class="variable">@required</span></div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> &#x5F53;&#x524D;object&#x5BF9;&#x5E94;&#x7684;cell&#x7684;class</span></div><div class="line"><span class="comment"> */</span></div><div class="line">- (Class)cellClass;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> &#x662F;&#x5426;&#x662F;&#x53EF;&#x590D;&#x7528;&#x7684;</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="selector-tag">-</span> (BOOL)<span class="selector-tag">reuseable</span>;</div><div class="line"></div><div class="line">@<span class="selector-tag">end</span></div></pre></td></tr></table></figure>
<p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x63A5;&#x7BA1;&#x6BCF;&#x4E2A;cell&#x7684;&#x6570;&#x636E;&#x6E90;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x8FD8;&#x5E76;&#x4E0D;&#x77E5;&#x9053;&#x6BCF;&#x4E2A;cell&#x5230;&#x5E95;&#x957F;&#x5565;&#x6837;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x518D;&#x6765;&#x7528;&#x4E00;&#x4E2A;&#x534F;&#x8BAE;&#x9650;&#x5B9A;cell&#x7684;&#x4E00;&#x4E9B;&#x5C5E;&#x6027;&#xFF1A;</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> UITableViewCell &#x9700;&#x8981;&#x5B9E;&#x73B0;&#x7684;&#x534F;&#x8BAE;&#x65B9;&#x6CD5;</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">AUUCell</span></span></div><div class="line"></div><div class="line"><span class="keyword">@required</span></div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> &#x5F53;&#x524D;cell&#x7684;&#x9AD8;&#x5EA6;</span></div><div class="line"><span class="comment"> */</span></div><div class="line">+ (<span class="built_in">CGFloat</span>)heightWithObject:(<span class="keyword">id</span> &lt;AUUCellObject&gt;)object;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> &#x6BCF;&#x6B21;&#x663E;&#x793A;&#x4E00;&#x4E2A;cell&#x7684;&#x65F6;&#x5019;&#x90FD;&#x8C03;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x7528;&#x4E8E;&#x5237;&#x65B0;cell&#x4E0A;&#x7684;&#x6570;&#x636E;</span></div><div class="line"><span class="comment"> */</span></div><div class="line">- (<span class="built_in">BOOL</span>)shouldUpdateWithObject:(<span class="keyword">id</span> &lt;AUUCellObject&gt;)object;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<h2 id="&#x4E09;&#x3001;&#x6570;&#x636E;&#x5C55;&#x793A;"><a href="#&#x4E09;&#x3001;&#x6570;&#x636E;&#x5C55;&#x793A;" class="headerlink" title="&#x4E09;&#x3001;&#x6570;&#x636E;&#x5C55;&#x793A;"></a>&#x4E09;&#x3001;&#x6570;&#x636E;&#x5C55;&#x793A;</h2><p>&#x73B0;&#x5728;<code>TableView</code>&#x7684;&#x534F;&#x8BAE;&#x6211;&#x4EEC;&#x4E5F;&#x63A5;&#x7BA1;&#x8FC7;&#x6765;&#x4E86;&#xFF0C;cell&#x548C;&#x6570;&#x636E;&#x6211;&#x4EEC;&#x4E5F;&#x5148;&#x5B9A;&#x597D;&#x4E86;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x6765;&#x663E;&#x793A;&#x6570;&#x636E;&#x4E86;&#x3002;<br>&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;<code>tableView</code>&#x662F;&#x6709;&#x591A;&#x4E2A;&#x5206;&#x7EC4;&#x7684;&#x6982;&#x5FF5;&#x7684;(&#x867D;&#x7136;&#x6211;&#x4EEC;&#x6709;&#x65F6;&#x4E5F;&#x80FD;&#x770B;&#x5230;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5206;&#x7EC4;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E0D;&#x4E5F;&#x662F;&#x5206;&#x7EC4;&#x4E48;)&#xFF0C;&#x5728;&#x5206;&#x7EC4;&#x4E0B;&#x7BA1;&#x7406;&#x7684;&#x662F;&#x8FD9;&#x4E2A;&#x5206;&#x7EC4;&#x7684;&#x5404;&#x4E2A;cell&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x7BA1;&#x7406;&#x7684;&#x662F;&#x6BCF;&#x4E2A;&#x5206;&#x7EC4;&#x4E0B;&#x7684;&#x6570;&#x636E;&#x4FE1;&#x606F;&#xFF0C;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5206;&#x7EC4;&#x7684;&#x6A21;&#x578B;(&#x6682;&#x65F6;&#x5C31;&#x8BBE;&#x7F6E;&#x8FD9;&#x4E48;&#x7B80;&#x5355;&#x7684;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;)&#xFF1A;</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="variable">@interface</span> <span class="attribute">AUUTableSection </span>: NSObject</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> &#x6B64;&#x5206;&#x7EC4;&#x4E0B;&#x7684;cell object&#xFF0C;&#x5C31;&#x662F;&#x6BCF;&#x4E2A;cell&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x4FE1;&#x606F;</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="variable">@property</span> (nonatomic, strong) NSMutableArray &lt;id &lt;AUUCellObject&gt;&gt; *rows;</div><div class="line"></div><div class="line"><span class="variable">@end</span></div></pre></td></tr></table></figure>
<p>&#x7136;&#x540E;&#x5728;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x6765;&#x5B58;&#x6240;&#x6709;&#x7684;&#x5206;&#x7EC4;&#xFF1A;</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> table&#x4E2D;&#x7684;&#x5206;&#x7EC4;</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSMutableArray</span> *sections;</div></pre></td></tr></table></figure>
<p>&#x6570;&#x636E;&#x73B0;&#x5728;&#x6709;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x53EF;&#x4EE5;&#x5F00;&#x59CB;&#x4EE5;&#x524D;&#x7684;&#x4E00;&#x9879;&#x91CD;&#x590D;&#x7684;&#x5DE5;&#x4F5C;&#x6765;&#x663E;&#x793A;&#x5404;&#x6761;&#x6570;&#x636E;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x5728;<code>tableModel</code>&#x91CC;&#x5199;&#x4E00;&#x6B21;&#x5373;&#x53EF;&#xFF1A;</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// &#x8BBE;&#x7F6E;&#x5206;&#x7EC4;&#x7684;&#x4E2A;&#x6570;</span></div><div class="line">- (<span class="built_in">NSInteger</span>)numberOfSectionsInTableView:(<span class="built_in">UITableView</span> *)tableView {</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>.sections.count;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// &#x8BBE;&#x7F6E;&#x6BCF;&#x4E2A;&#x5206;&#x7EC4;&#x4E0B;&#x7684;&#x884C;&#x6570;</span></div><div class="line">- (<span class="built_in">NSInteger</span>)tableView:(<span class="built_in">UITableView</span> *)tableView numberOfRowsInSection:(<span class="built_in">NSInteger</span>)section {</div><div class="line">    <span class="keyword">return</span> [[[<span class="keyword">self</span>.sections objectAtIndex:section] rows] count];</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// &#x8BBE;&#x7F6E;&#x6BCF;&#x884C;&#x7684;cell&#x89C6;&#x56FE;</span></div><div class="line">- (<span class="built_in">UITableViewCell</span> *)tableView:(<span class="built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath {</div><div class="line">    <span class="comment">// &#x83B7;&#x53D6;&#x5F53;&#x524D;tableView&#x7684;indexPath&#x8FD9;&#x4E2A;&#x4F4D;&#x7F6E;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x4FE1;&#x606F;</span></div><div class="line">    <span class="keyword">id</span> &lt;AUUCellObject&gt; object = [<span class="keyword">self</span> objectForTable:tableView atIndexPath:indexPath];</div><div class="line">    </div><div class="line">    <span class="comment">// &#x62FC;&#x63A5;&#x590D;&#x7528;&#x7684;&#x6807;&#x8BC6;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x53EF;&#x590D;&#x7528;&#x7684;cell&#xFF0C;&#x76F4;&#x63A5;&#x7528;cell&#x7684;&#x7C7B;&#x540D;&#x6765;&#x5F53;&#x505A;&#x6807;&#x8BC6;</span></div><div class="line">    <span class="built_in">NSString</span> *identifier = <span class="built_in">NSStringFromClass</span>(object.cellClass);</div><div class="line">    <span class="keyword">if</span> (!object.reuseable) {</div><div class="line">        <span class="comment">// &#x5982;&#x679C;&#x4E0D;&#x53EF;&#x590D;&#x7528;&#xFF0C;&#x5C31;&#x62FC;&#x63A5;&#x4E0A;&#x6570;&#x636E;&#x7684;hash&#x503C;&#xFF0C;&#x6765;&#x63A7;&#x5236;&#x552F;&#x4E00;&#x6027;</span></div><div class="line">        identifier = [identifier stringByAppendingFormat:<span class="string">@&quot;%@&quot;</span>, @([(<span class="built_in">NSObject</span> *)object hash])];</div><div class="line">    }</div><div class="line">    </div><div class="line">    <span class="built_in">UITableViewCell</span> *cell = [tableView dequeueReusableCellWithIdentifier:identifier];</div><div class="line">    <span class="keyword">if</span> (!cell) {</div><div class="line">        <span class="comment">// &#x6839;&#x636E;&#x6570;&#x636E;&#x4FE1;&#x606F;&#x5BF9;&#x5E94;&#x7684;cell&#x7C7B;&#x578B;&#x521B;&#x5EFA;&#x5B9E;&#x4F8B;</span></div><div class="line">        cell = [[object.cellClass alloc] initWithStyle:<span class="built_in">UITableViewCellStyleDefault</span> reuseIdentifier:identifier];</div><div class="line">    }</div><div class="line">    </div><div class="line">    <span class="comment">// &#x66F4;&#x65B0;cell&#x6570;&#x636E;</span></div><div class="line">    <span class="keyword">if</span> ([cell conformsToProtocol:<span class="class"><span class="keyword">@protocol</span>(<span class="title">AUUCell</span>)] &amp;&amp; [<span class="title">cell</span> <span class="title">respondsToSelector</span>:@<span class="title">selector</span>(<span class="title">shouldUpdateWithObject</span>:)]) </span>{</div><div class="line">        [(<span class="keyword">id</span> &lt;AUUCell&gt;)cell shouldUpdateWithObject:object];</div><div class="line">    }</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> cell;</div><div class="line">}</div></pre></td></tr></table></figure>
<h2 id="&#x56DB;&#x3001;&#x9AD8;&#x5EA6;&#x63A7;&#x5236;"><a href="#&#x56DB;&#x3001;&#x9AD8;&#x5EA6;&#x63A7;&#x5236;" class="headerlink" title="&#x56DB;&#x3001;&#x9AD8;&#x5EA6;&#x63A7;&#x5236;"></a>&#x56DB;&#x3001;&#x9AD8;&#x5EA6;&#x63A7;&#x5236;</h2><p>cell&#x7684;&#x89C6;&#x56FE;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x597D;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x9AD8;&#x5EA6;&#x600E;&#x4E48;&#x63A7;&#x5236;&#x5462;&#xFF1F;&#x9AD8;&#x5EA6;&#x8BBE;&#x7F6E;&#x662F;&#x5728;<code>tableView</code>&#x7684;<code>delegate</code>&#x91CC;&#x5C31;&#x662F;&#x73B0;&#x5728;&#x7684;<code>tableAction</code>&#xFF0C;&#x4F46;&#x662F;&#x6570;&#x636E;&#x90FD;&#x5728;<code>dataSource</code>&#x91CC;&#x5C31;&#x662F;&#x73B0;&#x5728;&#x7684;<code>tableModel</code>&#xFF0C;&#x770B;&#x770B;&#x4E0A;&#x9762;&#x753B;&#x7684;&#x5173;&#x7CFB;&#x56FE;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x534F;&#x8BAE;&#x6765;&#x8981;&#x6C42;<code>tableModel</code>&#x7ED9;&#x6211;&#x6307;&#x5B9A;&#x7684;&#x6570;&#x636E;:</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> AUUTableModel&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x7684;&#x65B9;&#x6CD5;</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="variable">@protocol</span> AUUCellFactory</div><div class="line"></div><div class="line"><span class="variable">@required</span></div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> &#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x7684;object</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment"> @param tableView &#x5F53;&#x524D;&#x7684;tableView</span></div><div class="line"><span class="comment"> @param indexPath &#x5F53;&#x524D;&#x7684;&#x7D22;&#x5F15;</span></div><div class="line"><span class="comment"> @return object</span></div><div class="line"><span class="comment"> */</span></div><div class="line">- (id &lt;AUUCellObject&gt;)<span class="attribute">objectForTable</span>:(UITableView *)tableView <span class="attribute">atIndexPath</span>:(NSIndexPath *)indexPath;</div><div class="line"></div><div class="line"><span class="variable">@end</span></div></pre></td></tr></table></figure>
<p>&#x62FF;&#x5230;&#x4E86;&#x6570;&#x636E;&#x4FE1;&#x606F;&#xFF0C;&#x90A3;&#x4E48;&#x9AD8;&#x5EA6;&#x7684;&#x8BDD;&#x5C31;&#x597D;&#x8BF4;&#x4E86;&#xFF1A;</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">- (CGFloat)<span class="string">tableView:</span>(UITableView *)tableView <span class="string">heightForRowAtIndexPath:</span>(NSIndexPath *)indexPath {</div><div class="line">    <span class="keyword">if</span> ([tableView.dataSource <span class="string">conformsToProtocol:</span><span class="meta">@protocol</span>(AUUCellFactory)] &amp;&amp;</div><div class="line">        [tableView.dataSource <span class="string">respondsToSelector:</span><span class="meta">@selector</span>(<span class="string">objectForTable:</span><span class="string">atIndexPath:</span>)]) {</div><div class="line">        <span class="comment">// &#x62FF;&#x5230;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#x7684;&#x6570;&#x636E;&#x4FE1;&#x606F;</span></div><div class="line">        id &lt;AUUCellObject&gt; object = [(id &lt;AUUCellFactory&gt;)tableView.dataSource <span class="string">objectForTable:</span>tableView <span class="string">atIndexPath:</span>indexPath];</div><div class="line">        <span class="keyword">if</span> ([object.cellClass <span class="string">respondsToSelector:</span><span class="meta">@selector</span>(<span class="string">heightWithObject:</span>)]) {</div><div class="line">            <span class="comment">// &#x83B7;&#x53D6;&#x9AD8;&#x5EA6;</span></div><div class="line">            <span class="keyword">return</span> [object.cellClass <span class="string">heightWithObject:</span>object];</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="number">44.0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
<h2 id="&#x4E94;&#x3001;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;"><a href="#&#x4E94;&#x3001;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;" class="headerlink" title="&#x4E94;&#x3001;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;"></a>&#x4E94;&#x3001;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;</h2><h3 id="&#x5B9E;&#x73B0;&#x90E8;&#x5206;&#x7684;&#x57FA;&#x7C7B;"><a href="#&#x5B9E;&#x73B0;&#x90E8;&#x5206;&#x7684;&#x57FA;&#x7C7B;" class="headerlink" title="&#x5B9E;&#x73B0;&#x90E8;&#x5206;&#x7684;&#x57FA;&#x7C7B;"></a>&#x5B9E;&#x73B0;&#x90E8;&#x5206;&#x7684;&#x57FA;&#x7C7B;</h3><p>&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x4E0A;&#x9762;&#x505A;&#x7684;&#x5BF9;&#x4E8E;cell&#x548C;&#x6570;&#x636E;&#x7684;&#x63A7;&#x5236;&#x90FD;&#x662F;&#x901A;&#x8FC7;&#x534F;&#x8BAE;&#x6765;&#x505A;&#x7684;&#xFF0C;&#x76EE;&#x7684;&#x5F53;&#x7136;&#x5F88;&#x660E;&#x786E;&#xFF0C;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x80FD;&#x591F;&#x51CF;&#x5C11;&#x8026;&#x5408;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x4E3A;&#x4E86;&#x5728;&#x9879;&#x76EE;&#x91CC;&#x5199;&#x7684;&#x65B9;&#x4FBF;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x5B9E;&#x73B0;&#x7684;&#x90E8;&#x5206;&#x5199;&#x4E00;&#x4E2A;&#x57FA;&#x7C7B;&#x6765;&#x7B80;&#x5316;&#x4E00;&#x4E9B;&#x91CD;&#x590D;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x5982;&#xFF1A;</p>
<ul>
<li><code>BaseCell</code></li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AUUBaseCell</span> : <span class="title">UITableViewCell</span> &lt;<span class="title">AUUCell</span>&gt;</span></div><div class="line">- (<span class="keyword">void</span>)initialize;</div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">AUUBaseCell</span></span></div><div class="line">+ (<span class="built_in">CGFloat</span>)heightWithObject:(<span class="keyword">id</span>&lt;AUUCellObject&gt;)object {</div><div class="line">    <span class="keyword">return</span> <span class="number">44.0</span>;</div><div class="line">}</div><div class="line">- (<span class="keyword">instancetype</span>)initWithStyle:(<span class="built_in">UITableViewCellStyle</span>)style reuseIdentifier:(<span class="built_in">NSString</span> *)reuseIdentifier {</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> initWithStyle:style reuseIdentifier:reuseIdentifier]) {</div><div class="line">        [<span class="keyword">self</span> initialize];</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</div><div class="line">}</div><div class="line">- (<span class="keyword">void</span>)initialize { }</div><div class="line">- (<span class="built_in">BOOL</span>)shouldUpdateWithObject:(<span class="keyword">id</span>&lt;AUUCellObject&gt;)object {</div><div class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</div><div class="line">}</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<ul>
<li><code>BaseObject</code></li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AUUBaseObject</span> : <span class="title">NSObject</span> &lt;<span class="title">AUUCellObject</span>&gt;</span></div><div class="line">+ (<span class="keyword">instancetype</span>)objectWithClass:(Class)cls;</div><div class="line">+ (<span class="keyword">instancetype</span>)object;</div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AUUBaseObject</span>()</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) Class cls;</div><div class="line"><span class="keyword">@end</span></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">AUUBaseObject</span></span></div><div class="line">+ (<span class="keyword">instancetype</span>)object {</div><div class="line">    <span class="keyword">return</span> <span class="literal">nil</span>;</div><div class="line">}</div><div class="line">+ (<span class="keyword">instancetype</span>)objectWithClass:(Class)cls {</div><div class="line">    AUUBaseObject *object = [[<span class="keyword">self</span> alloc] init];</div><div class="line">    object.cls = cls;</div><div class="line">    <span class="keyword">return</span> object;</div><div class="line">}</div><div class="line">- (Class)cellClass {</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>.cls;</div><div class="line">}</div><div class="line">- (<span class="built_in">BOOL</span>)reuseable {</div><div class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</div><div class="line">}</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<h3 id="&#x4E3E;&#x4F8B;&#x7684;cell"><a href="#&#x4E3E;&#x4F8B;&#x7684;cell" class="headerlink" title="&#x4E3E;&#x4F8B;&#x7684;cell"></a>&#x4E3E;&#x4F8B;&#x7684;cell</h3><p>&#x4E0B;&#x9762;&#x5728;&#x5B9E;&#x73B0;&#x5404;&#x4E2A;cell&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5982;&#x4E0B;&#x5199;&#x4E86;&#xFF1A;</p>
<ul>
<li><code>.h</code></li>
</ul>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="variable">@interface</span> <span class="attribute">AUUTextCell </span>: AUUBaseCell</div><div class="line"><span class="variable">@end</span></div><div class="line"></div><div class="line"><span class="variable">@interface</span> <span class="attribute">AUUTextObject </span>: AUUBaseObject</div><div class="line">+ (instancetype)<span class="attribute">objectWithText</span>:(NSString *)text;</div><div class="line"><span class="variable">@end</span></div></pre></td></tr></table></figure>
<ul>
<li><code>.m</code></li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AUUTextObject</span> ()</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">copy</span>, <span class="keyword">nonatomic</span>) <span class="built_in">NSString</span> *text;</div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">AUUTextObject</span></span></div><div class="line"></div><div class="line">+ (<span class="keyword">instancetype</span>)objectWithText:(<span class="built_in">NSString</span> *)text {</div><div class="line">    AUUTextObject *object = [<span class="keyword">super</span> objectWithClass:[AUUTextCell <span class="keyword">class</span>]];</div><div class="line">    object.text = text;</div><div class="line">    <span class="keyword">return</span> object;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AUUTextCell</span>()</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">UILabel</span> *label;</div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">AUUTextCell</span></span></div><div class="line"></div><div class="line">+ (<span class="built_in">CGFloat</span>)heightWithObject:(<span class="keyword">id</span>&lt;AUUCellObject&gt;)object {</div><div class="line">    <span class="keyword">return</span>  <span class="number">44</span>;</div><div class="line">}</div><div class="line"></div><div class="line">- (<span class="built_in">BOOL</span>)shouldUpdateWithObject:(AUUTextObject *)object {</div><div class="line">    <span class="keyword">self</span>.label.text = object.text;</div><div class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</div><div class="line">}</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)initialize {</div><div class="line">    <span class="keyword">self</span>.label = [[<span class="built_in">UILabel</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">20</span>, <span class="number">0</span>, [<span class="built_in">UIScreen</span> mainScreen].bounds.size.width - <span class="number">40</span>, <span class="number">44</span>)];</div><div class="line">    <span class="keyword">self</span>.label.font = [<span class="built_in">UIFont</span> systemFontOfSize:<span class="number">14</span>];</div><div class="line">    <span class="keyword">self</span>.label.textColor = [<span class="built_in">UIColor</span> redColor];</div><div class="line">    [<span class="keyword">self</span> addSubview:<span class="keyword">self</span>.label];</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>&#x8FD9;&#x91CC;&#x5462;&#x5C31;&#x5148;&#x5199;&#x8FD9;&#x4E00;&#x4E2A;&#xFF0C;&#x66F4;&#x591A;&#x7684;&#x53EF;&#x4EE5;&#x770B;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#x4EE3;&#x7801;&#x3002;</p>
<h3 id="&#x7EC4;&#x88C5;&#x6570;&#x636E;&#x5230;&#x9875;&#x9762;"><a href="#&#x7EC4;&#x88C5;&#x6570;&#x636E;&#x5230;&#x9875;&#x9762;" class="headerlink" title="&#x7EC4;&#x88C5;&#x6570;&#x636E;&#x5230;&#x9875;&#x9762;"></a>&#x7EC4;&#x88C5;&#x6570;&#x636E;&#x5230;&#x9875;&#x9762;</h3><p>&#x5728;&#x4E00;&#x5F00;&#x59CB;&#x7684;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5C31;&#x521B;&#x5EFA;&#x4E86;<code>tableModel</code>&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x6DFB;&#x52A0;&#x6570;&#x636E;&#xFF1A;</p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[<span class="name">self.tableModel</span> appendObject:[<span class="name">AUUTextObject</span> objectWithText:@<span class="string">&quot;title&quot;</span>]]<span class="comment">;</span></div><div class="line">[<span class="name">self.tableModel</span> appendObject:[<span class="name">AUUInputObject</span> object]]<span class="comment">;</span></div><div class="line">[<span class="name">self.tableModel</span> appendObject:[<span class="name">AUUImageObject</span> object]]<span class="comment">;</span></div><div class="line">[<span class="name">self.tableModel</span> appendObject:[<span class="name">AUUImageScrollerObject</span> object]]<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>&#x597D;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x6DFB;&#x52A0;&#x4E86;4&#x4E2A;<code>cell</code>&#x5230;<code>tableView</code>&#x91CC;&#xFF0C;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A;<br><img src="http://oi21rq6v4.bkt.clouddn.com/2018-03-01-visiable_table.png" alt=""></p>
<p>&#x81F3;&#x6B64;&#xFF0C;&#x4E00;&#x4E2A;<code>tableView</code>&#x5DF2;&#x7ECF;&#x5B8C;&#x7F8E;&#x5C55;&#x793A;&#x3002;</p>
<h2 id="&#x516D;&#x3001;&#x4E8B;&#x4EF6;&#x54CD;&#x5E94;"><a href="#&#x516D;&#x3001;&#x4E8B;&#x4EF6;&#x54CD;&#x5E94;" class="headerlink" title="&#x516D;&#x3001;&#x4E8B;&#x4EF6;&#x54CD;&#x5E94;"></a>&#x516D;&#x3001;&#x4E8B;&#x4EF6;&#x54CD;&#x5E94;</h2><p>&#x4E0A;&#x9762;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x53EA;&#x662F;&#x51FA;&#x4E8E;&#x770B;&#x9759;&#x6001;&#x9875;&#x9762;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7684;&#x662F;&#x53EF;&#x4EE5;&#x4EA4;&#x4E92;&#x554A;&#xFF0C;&#x5C31;&#x50CF;&#x6700;&#x539F;&#x59CB;&#x7684;&#x5199;&#x6CD5;&#x4E00;&#x6837;&#xFF1A;</p>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- <span class="params">(void)</span>tableView:<span class="params">(UITableView *)</span>tableView didSelectRowAtIndexPath:<span class="params">(NSIndexPath *)</span>indexPath</div></pre></td></tr></table></figure>
<p>&#x6211;&#x4EEC;&#x5728;&#x91CC;&#x9762;&#x6536;&#x5230;<code>tableView</code>&#x7684;&#x8C03;&#x7528;&#x4EE5;&#x540E;&#x5C31;&#x53BB;&#x505A;&#x4E00;&#x4E9B;&#x4E8B;&#x60C5;&#xFF0C;&#x4F46;&#x662F;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x7684;&#x76EE;&#x7684;&#x662F;&#x63A5;&#x7BA1;&#x8FD9;&#x4E9B;&#x534F;&#x8BAE;&#x65B9;&#x6CD5;&#xFF0C;&#x4E0D;&#x7ED9;&#x5916;&#x9762;&#x4F7F;&#x7528;&#x7684;&#x673A;&#x4F1A;&#x3002;<br>&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5C31;&#x8BE5;&#x5F3A;&#x5316;&#x6211;&#x4EEC;&#x7684;<code>tableAction</code>&#x4E86;&#x3002;</p>
<h3 id="&#x54CD;&#x5E94;&#x5BF9;&#x5E94;&#x7F13;&#x5B58;"><a href="#&#x54CD;&#x5E94;&#x5BF9;&#x5E94;&#x7F13;&#x5B58;" class="headerlink" title="&#x54CD;&#x5E94;&#x5BF9;&#x5E94;&#x7F13;&#x5B58;"></a>&#x54CD;&#x5E94;&#x5BF9;&#x5E94;&#x7F13;&#x5B58;</h3><p>&#x6211;&#x4EEC;&#x6765;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x7C7B;<code>_AUUActionCache</code>&#xFF0C;&#x7528;&#x6765;&#x7F13;&#x5B58;&#x6BCF;&#x4E00;&#x884C;&#x8BBE;&#x5B9A;&#x7684;&#x54CD;&#x5E94;&#x65B9;&#x6CD5;&#xFF0C;&#x91CC;&#x9762;&#x5305;&#x542B;&#x5982;&#x4E0B;&#x51E0;&#x4E2A;&#x5C5E;&#x6027;&#xFF1A;</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">@<span class="keyword">property</span><span class="title"> </span>(weak, nonatomic) id target;</div><div class="line">@<span class="keyword">property</span><span class="title"> </span>(nonatomic) SEL sel;</div><div class="line">@<span class="keyword">property</span><span class="title"> </span>(copy, nonatomic) AUUCellSelectedAction action;</div></pre></td></tr></table></figure>
<h3 id="&#x63D0;&#x4F9B;&#x5916;&#x90E8;&#x6CE8;&#x518C;&#x4E8B;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;"><a href="#&#x63D0;&#x4F9B;&#x5916;&#x90E8;&#x6CE8;&#x518C;&#x4E8B;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;" class="headerlink" title="&#x63D0;&#x4F9B;&#x5916;&#x90E8;&#x6CE8;&#x518C;&#x4E8B;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;"></a>&#x63D0;&#x4F9B;&#x5916;&#x90E8;&#x6CE8;&#x518C;&#x4E8B;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;</h3><p>&#x4E3A;&#x4E86;&#x9002;&#x5E94;&#x4E0D;&#x540C;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E00;&#x4E0B;&#x4E24;&#x79CD;&#x56DE;&#x8C03;&#x8BBE;&#x7F6E;&#x65B9;&#x5F0F;&#xFF1A;</p>
<ul>
<li>&#x5355;&#x4E00;&#x5BF9;&#x8C61;&#x7684;&#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#xFF0C;&#x53EA;&#x76D1;&#x542C;&#x8FD9;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5BF9;&#x5E94;&#x7684;cell&#x7684;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// &#x901A;&#x8FC7;block&#x56DE;&#x8C03;</span></div><div class="line">- (id&lt;<span class="type">AUUCellObject</span>&gt;)attachObject:(id&lt;<span class="type">AUUCellObject</span>&gt;)<span class="class"><span class="keyword">object</span> <span class="title">action</span></span>:(<span class="type">AUUCellSelectedAction</span>)action {</div><div class="line">    <span class="keyword">if</span> (<span class="class"><span class="keyword">object</span>) </span>{</div><div class="line">        [self.objectActions setObject:[_AUUActionCache cacheWithAction:action] forKey:[self keyForObject:<span class="class"><span class="keyword">object</span>]]</span>;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="class"><span class="keyword">object</span></span>;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// &#x901A;&#x8FC7;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x6765;&#x56DE;&#x8C03;</span></div><div class="line">- (id &lt;<span class="type">AUUCellObject</span>&gt;)attachObject:(id&lt;<span class="type">AUUCellObject</span>&gt;)<span class="class"><span class="keyword">object</span> <span class="title">target</span></span>:(id)target action:(<span class="type">SEL</span>)action {</div><div class="line">    <span class="keyword">if</span> (<span class="class"><span class="keyword">object</span>) </span>{</div><div class="line">        [self.objectActions setObject:[_AUUActionCache cacheWithTarget:target selector:action] forKey:[self keyForObject:<span class="class"><span class="keyword">object</span>]]</span>;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="class"><span class="keyword">object</span></span>;</div><div class="line">}</div></pre></td></tr></table></figure>
<ul>
<li>&#x67D0;&#x4E00;&#x7C7B;&#x5BF9;&#x8C61;&#x7684;&#x76D1;&#x542C;&#xFF0C;&#x76D1;&#x542C;&#x8FD9;&#x4E00;&#x7C7B;&#x53CA;&#x5176;&#x5B50;&#x7C7B;&#x7684;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;</li>
</ul>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// &#x901A;&#x8FC7;block&#x56DE;&#x8C03;</span></div><div class="line">- (<span class="keyword">void</span>)<span class="string">attachClass:</span>(Class)cls <span class="string">action:</span>(AUUCellSelectedAction)action {</div><div class="line">    [self.classActions <span class="string">setObject:</span>[_AUUActionCache <span class="string">cacheWithAction:</span>action] <span class="string">forKey:</span>(id &lt;NSCopying&gt;)cls];</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// &#x901A;&#x8FC7;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x6765;&#x56DE;&#x8C03;</span></div><div class="line">- (<span class="keyword">void</span>)<span class="string">attachClass:</span>(Class)cls <span class="string">target:</span>(id)target <span class="string">action:</span>(SEL)action {</div><div class="line">    [self.classActions <span class="string">setObject:</span>[_AUUActionCache <span class="string">cacheWithTarget:</span>target <span class="string">selector:</span>action] <span class="string">forKey:</span>(id &lt;NSCopying&gt;)cls];</div><div class="line">}</div></pre></td></tr></table></figure>
<h3 id="&#x4E8B;&#x4EF6;&#x54CD;&#x5E94;"><a href="#&#x4E8B;&#x4EF6;&#x54CD;&#x5E94;" class="headerlink" title="&#x4E8B;&#x4EF6;&#x54CD;&#x5E94;"></a>&#x4E8B;&#x4EF6;&#x54CD;&#x5E94;</h3><p>&#x5728;&#x4E0A;&#x9762;&#x6211;&#x4EEC;&#x6DFB;&#x52A0;&#x4E86;<code>AUUCellFactory</code>&#x8FD9;&#x4E48;&#x4E00;&#x4E2A;&#x534F;&#x8BAE;&#xFF0C;&#x90A3;&#x4E48;&#x6570;&#x636E;&#x80AF;&#x5B9A;&#x4E0D;&#x5728;&#x8BDD;&#x4E0B;&#x4E86;&#xFF0C;&#x65E2;&#x7136;&#x80FD;&#x62FF;&#x5230;&#x6570;&#x636E;&#xFF0C;&#x90A3;&#x5C31;&#x80FD;&#x627E;&#x5230;&#x5176;&#x5BF9;&#x5E94;&#x7684;&#x56DE;&#x8C03;&#x64CD;&#x4F5C;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight sqf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">- (void)performActionForObject:(id &lt;AUUCellObject&gt;)object {</div><div class="line">    <span class="keyword">if</span> (!object) {</div><div class="line">        return;</div><div class="line">    }</div><div class="line">    </div><div class="line">    <span class="variable">_AUUActionCache</span> *<span class="built_in">action</span> = [self.objectActions objectForKey:[self keyForObject:object]];</div><div class="line">    <span class="keyword">if</span> (!<span class="built_in">action</span>) {</div><div class="line">        Class keyClass = [(NSObject *)object class];</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (Class class <span class="built_in">in</span> self.classActions.allKeys) {</div><div class="line">            <span class="keyword">if</span> ([keyClass isKindOfClass:class] || [keyClass isSubclassOfClass:class]) {</div><div class="line">                <span class="comment">// &#x9700;&#x8981;&#x505A;&#x5904;&#x7406;&#xFF0C;&#x6BD4;&#x5982;  A&lt;-B&lt;-C</span></div><div class="line">                <span class="comment">// &#x6211;&#x6DFB;&#x52A0;&#x4E86;A&#x3001;B&#x7684;&#x76D1;&#x542C;&#xFF0C;&#x5F53;&#x6211;&#x62FF;C class&#x6765;&#x53D6;&#x54CD;&#x5E94;&#x8005;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5230;&#x5E95;&#x662F;&#x53D6;&#x8C01;&#xFF1F;</span></div><div class="line">                <span class="comment">// &#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x5199;&#x4E86;&#x4E00;&#x4E0B;</span></div><div class="line">                <span class="built_in">action</span> = [self.classActions objectForKey:(id&lt;NSCopying&gt;)class];</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> (!<span class="built_in">action</span>) {</div><div class="line">        return;</div><div class="line">    }</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> (<span class="built_in">action</span>.<span class="built_in">action</span>) {</div><div class="line">        <span class="built_in">action</span>.<span class="built_in">action</span>(object);</div><div class="line">    }</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">action</span>.target &amp;&amp; <span class="built_in">action</span>.sel &amp;&amp; [<span class="built_in">action</span>.target respondsToSelector:<span class="built_in">action</span>.sel]) {</div><div class="line"><span class="meta">#<span class="meta-keyword">pragma</span> clang diagnostic push</span></div><div class="line"><span class="meta">#<span class="meta-keyword">pragma</span> clang diagnostic ignored <span class="meta-string">&quot;-Warc-performSelector-leaks&quot;</span></span></div><div class="line">        [<span class="built_in">action</span>.target performSelector:<span class="built_in">action</span>.sel withObject:object];</div><div class="line"><span class="meta">#<span class="meta-keyword">pragma</span> clang diagnostic pop</span></div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>
<h2 id="&#x4E03;&#x3001;&#x518D;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;"><a href="#&#x4E03;&#x3001;&#x518D;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;" class="headerlink" title="&#x4E03;&#x3001;&#x518D;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;"></a>&#x4E03;&#x3001;&#x518D;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;</h2><p>&#x54CD;&#x5E94;&#x4E8B;&#x4EF6;&#x6DFB;&#x52A0;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x518D;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#x5B9E;&#x73B0;&#xFF0C;&#x8DDF;&#x7B2C;&#x4E00;&#x6B21;&#x6D4B;&#x8BD5;&#x4E5F;&#x6CA1;&#x591A;&#x5927;&#x7684;&#x5374;&#x522B;&#xFF0C;&#x8DD1;&#x8D77;&#x6765;&#x8BD5;&#x4E00;&#x4E0B;&#xFF0C;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x5C31;&#x4F1A;&#x51FA;&#x73B0;&#x60F3;&#x8981;&#x7684;log&#x7ED3;&#x679C;&#x4E86;&#x3002;</p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">[<span class="name">self.tableAction</span> attachClass:[<span class="name">AUUTextObject</span> class] action:^(<span class="name">AUUTextObject</span> *object) {</div><div class="line">    NSLog(<span class="name">@</span><span class="string">&quot;tap : %@&quot;</span>, object.text)<span class="comment">;</span></div><div class="line">}]<span class="comment">;</span></div><div class="line">    </div><div class="line">[<span class="name">self.tableAction</span> attachClass:[<span class="name">AUUImageObject</span> class] target:self action:@selector(<span class="name">imageAction:</span>)]<span class="comment">;</span></div><div class="line">    </div><div class="line">[<span class="name">self.tableModel</span> appendObject:[<span class="name">AUUTextObject</span> objectWithText:@<span class="string">&quot;title&quot;</span>]]<span class="comment">;</span></div><div class="line">[<span class="name">self.tableModel</span> appendObject:[<span class="name">AUUInputObject</span> object]]<span class="comment">;</span></div><div class="line">[<span class="name">self.tableModel</span> appendObject:[<span class="name">self.tableAction</span> attachObject:[<span class="name">AUUImageObject</span> object] action:^(<span class="name">id&lt;AUUCellObject&gt;</span> object) {</div><div class="line">    NSLog(<span class="name">@</span><span class="string">&quot;tap &#x4F60;&#x70B9;&#x51FB;&#x4E86;&#x8FD9;&#x4E2A;&#x56FE;&#x7247;cell&quot;</span>)<span class="comment">;</span></div><div class="line">}]]<span class="comment">;</span></div><div class="line">[<span class="name">self.tableModel</span> appendObject:[<span class="name">AUUImageScrollerObject</span> objectWithDelegate:self]]<span class="comment">;</span></div></pre></td></tr></table></figure>
<h2 id="&#x516B;&#x3001;&#x66F4;&#x591A;&#x7684;&#x64CD;&#x4F5C;"><a href="#&#x516B;&#x3001;&#x66F4;&#x591A;&#x7684;&#x64CD;&#x4F5C;" class="headerlink" title="&#x516B;&#x3001;&#x66F4;&#x591A;&#x7684;&#x64CD;&#x4F5C;"></a>&#x516B;&#x3001;&#x66F4;&#x591A;&#x7684;&#x64CD;&#x4F5C;</h2><p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x7684;&#x6D4B;&#x8BD5;&#x4F8B;&#x5B50;&#xFF0C;&#x53EA;&#x662F;&#x5F88;&#x7B80;&#x5355;&#x7684;&#x5199;&#x4E86;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;&#xFF0C;&#x4E0D;&#x8FC7;&#x5BF9;&#x4E8E;&#x4E00;&#x822C;&#x4E0D;&#x8FC7;&#x4E8E;&#x590D;&#x6742;&#x7684;&#x9879;&#x76EE;&#x6765;&#x8BF4;&#xFF0C;&#x8C8C;&#x4F3C;&#x8FD9;&#x5C31;&#x591F;&#x7528;&#x4E86;&#x554A;&#x3002;</p>
<h3 id="&#x975E;&#x8981;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x4E00;&#x4E9B;&#x534F;&#x8BAE;"><a href="#&#x975E;&#x8981;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x4E00;&#x4E9B;&#x534F;&#x8BAE;" class="headerlink" title="&#x975E;&#x8981;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x4E00;&#x4E9B;&#x534F;&#x8BAE;"></a>&#x975E;&#x8981;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x4E00;&#x4E9B;&#x534F;&#x8BAE;</h3><p>&#x5F53;&#x7136;&#xFF0C;<code>tableView</code>&#x7684;&#x534F;&#x8BAE;&#x65B9;&#x6CD5;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x5C31;&#x7B97;&#x81EA;&#x5DF1;&#x518D;&#x5C01;&#x88C5;&#x4E00;&#x4E2A;&#x5E93;&#x4E5F;&#x4E0D;&#x4F1A;&#x505A;&#x5230;&#x521A;&#x597D;&#x7B26;&#x5408;&#x6BCF;&#x4E00;&#x4E2A;&#x4EBA;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x800C;&#x4E14;&#x5BF9;&#x4E8E;&#x82F9;&#x679C;&#x516C;&#x53F8;&#x6765;&#x8BF4;&#xFF0C;&#x968F;&#x7740;&#x6280;&#x672F;&#x7684;&#x4E0D;&#x65AD;&#x66F4;&#x65B0;&#x548C;&#x8FDB;&#x6B65;&#xFF0C;&#x4E5F;&#x80AF;&#x5B9A;&#x4F1A;&#x6709;&#x66F4;&#x591A;&#x7684;<code>API</code>&#x5F00;&#x653E;&#x51FA;&#x6765;&#xFF0C;&#x4E8E;&#x662F;&#xFF0C;&#x4F5C;&#x4E3A;&#x5E94;&#x7528;&#x5C42;&#x7684;&#x4E00;&#x6B21;&#x5C01;&#x88C5;&#xFF0C;&#x63D0;&#x4F9B;&#x7ED9;&#x4F7F;&#x7528;&#x8005;&#x66F4;&#x591A;&#x7684;&#x9009;&#x62E9;&#x8FD8;&#x662F;&#x5F88;&#x6709;&#x5FC5;&#x8981;&#x7684;&#x3002;<br>&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x6211;&#x63A8;&#x8350;&#x53BB;&#x770B;&#x4E00;&#x770B;<code>Nimbus</code>(<a href="https://github.com/jverkoey/nimbus">Github</a>)&#x7684;<code>NITableAction</code>&#x4E0B;&#x5BF9;&#x4E8E;<code>Forward Invocations</code>&#x7684;&#x4E00;&#x4E9B;&#x5B9E;&#x73B0;&#x3002;</p>
<h3 id="Cell&#x7684;&#x81EA;&#x66F4;&#x65B0;"><a href="#Cell&#x7684;&#x81EA;&#x66F4;&#x65B0;" class="headerlink" title="Cell&#x7684;&#x81EA;&#x66F4;&#x65B0;"></a><code>Cell</code>&#x7684;&#x81EA;&#x66F4;&#x65B0;</h3><p>&#x54CD;&#x5E94;&#x5F0F;&#x8BBE;&#x7F6E;&#xFF0C;&#x5C31;&#x50CF;&#x662F;&#x96C6;&#x5408;&#x4E86;<code>ReactiveCocoa</code>(<a href="https://github.com/ReactiveCocoa/ReactiveCocoa">Github</a>)&#x7684;&#x64CD;&#x4F5C;&#x4E00;&#x6837;&#xFF0C;&#x6BCF;&#x5F53;&#x6709;&#x6570;&#x636E;&#x53D8;&#x52A8;&#xFF0C;&#x90FD;&#x80FD;&#x53CA;&#x65F6;&#x7684;&#x5C06;&#x53D8;&#x52A8;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x5C55;&#x793A;&#x51FA;&#x6765;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x8FD9;&#x79CD;&#x5199;&#x6CD5;&#x5F53;&#x7136;&#x4E5F;&#x884C;&#x554A;&#xFF0C;&#x5C31;&#x770B;&#x4F60;&#x600E;&#x4E48;&#x5C01;&#x88C5;&#x4E86;&#x3002;<br>&#x4E0D;&#x8FC7;&#xFF0C;&#x6211;&#x63A8;&#x8350;&#x53BB;&#x770B;&#x4E2A;&#x73B0;&#x6210;&#x7684;&#x5185;&#x5BB9;<code>Eureka</code>(<a href="https://github.com/xmartlabs/Eureka">Github</a>)&#xFF0C;&#x91CC;&#x9762;&#x5BF9;&#x4E8E;&#x6570;&#x636E;&#x548C;<code>cell</code>&#x7684;&#x5C01;&#x88C5;&#x66F4;&#x7D27;&#x5BC6;&#x3002;</p>
<h2 id="&#x4E5D;&#x3001;&#x603B;&#x7ED3;"><a href="#&#x4E5D;&#x3001;&#x603B;&#x7ED3;" class="headerlink" title="&#x4E5D;&#x3001;&#x603B;&#x7ED3;"></a>&#x4E5D;&#x3001;&#x603B;&#x7ED3;</h2><p>&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x628A;<code>tableView</code>&#x534F;&#x8BAE;&#x91CC;&#x7684;&#x64CD;&#x4F5C;&#x8FDB;&#x884C;&#x4E86;&#x6253;&#x6563;&#xFF0C;&#x91CD;&#x70B9;&#x7684;&#x5DE5;&#x4F5C;&#x5C31;&#x662F;&#x524D;&#x671F;&#x7684;<code>tableModel</code>&#x548C;<code>tableAction</code>&#x7684;&#x5B9A;&#x5236;&#xFF0C;&#x5728;&#x5230;&#x5E94;&#x7528;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x662F;&#x628A;&#x5404;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x5224;&#x65AD;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x7F13;&#x5B58;&#x6765;&#x505A;&#x4E86;&#x533A;&#x5206;&#xFF0C;&#x8FD9;&#x6837;&#x5728;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;cell&#x7684;&#x65F6;&#x5019;&#x5C31;&#x80FD;&#x7701;&#x53BB;&#x66F4;&#x591A;&#x7684;&#x65F6;&#x95F4;&#x548C;&#x5224;&#x65AD;&#x903B;&#x8F91;&#x3002;<br>&#x4E0D;&#x4FE1;&#xFF0C;&#x53EF;&#x4EE5;&#x589E;&#x52A0;&#x4E00;&#x4E9B;&#x589E;&#x5220;&#x7684;&#x6D4B;&#x8BD5;&#x64CD;&#x4F5C;&#x8BD5;&#x8BD5;&#xFF0C;&#x5982;&#x679C;&#x7528;&#x539F;&#x59CB;&#x7684;&#x5199;&#x6CD5;&#x6765;&#x505A;&#x7684;&#x8BDD;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x6709;&#x79CD;&#x8981;&#x54ED;&#x7684;&#x611F;&#x89C9;&#xFF1F;</p>
<p><a href="https://github.com/JyHu/TableViewOperator">&#x6D4B;&#x8BD5;&#x4EE3;&#x7801;</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/iOS/" rel="tag">#iOS</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/02/12/TableView之Component/" rel="next" title="TableView之Component">
                <i class="fa fa-chevron-left"></i> TableView之Component
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/03/02/TableView之MVP/" rel="prev" title="TableView之MVP">
                TableView之MVP <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
  <a class="jiathis_button_tsina"></a>
  <a class="jiathis_button_tqq"></a>
  <a class="jiathis_button_weixin"></a>
  <a class="jiathis_button_cqq"></a>
  <a class="jiathis_button_douban"></a>
  <a class="jiathis_button_renren"></a>
  <a class="jiathis_button_qzone"></a>
  <a class="jiathis_button_kaixin001"></a>
  <a class="jiathis_button_copy"></a>
  <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
  <a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
  var jiathis_config={
    hideMore:false
  }
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
<!-- JiaThis Button END -->

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="gitment-container"></div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/logo.png"
               alt="Joyous's Home" />
          <p class="site-author-name" itemprop="name">Joyous's Home</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">41</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">35</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/JyHu" target="_blank" title="github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/210127055" target="_blank" title="weibo">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#TableView之协议托管"><span class="nav-number">1.</span> <span class="nav-text">TableView之协议托管</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、协议托管"><span class="nav-number">1.1.</span> <span class="nav-text">一、协议托管</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、定制UITableViewCell"><span class="nav-number">1.2.</span> <span class="nav-text">二、定制UITableViewCell</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三、数据展示"><span class="nav-number">1.3.</span> <span class="nav-text">三、数据展示</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四、高度控制"><span class="nav-number">1.4.</span> <span class="nav-text">四、高度控制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#五、测试一下"><span class="nav-number">1.5.</span> <span class="nav-text">五、测试一下</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#实现部分的基类"><span class="nav-number">1.5.1.</span> <span class="nav-text">实现部分的基类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#举例的cell"><span class="nav-number">1.5.2.</span> <span class="nav-text">举例的cell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#组装数据到页面"><span class="nav-number">1.5.3.</span> <span class="nav-text">组装数据到页面</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#六、事件响应"><span class="nav-number">1.6.</span> <span class="nav-text">六、事件响应</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#响应对应缓存"><span class="nav-number">1.6.1.</span> <span class="nav-text">响应对应缓存</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#提供外部注册事件的方法"><span class="nav-number">1.6.2.</span> <span class="nav-text">提供外部注册事件的方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#事件响应"><span class="nav-number">1.6.3.</span> <span class="nav-text">事件响应</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#七、再测试一下"><span class="nav-number">1.7.</span> <span class="nav-text">七、再测试一下</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#八、更多的操作"><span class="nav-number">1.8.</span> <span class="nav-text">八、更多的操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#非要自己实现一些协议"><span class="nav-number">1.8.1.</span> <span class="nav-text">非要自己实现一些协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cell的自更新"><span class="nav-number">1.8.2.</span> <span class="nav-text">Cell的自更新</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#九、总结"><span class="nav-number">1.9.</span> <span class="nav-text">九、总结</span></a></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        








  <div style="display: none;">
    <script type="text/javascript">
        var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
        document.write(unescape("%3Cspan id='cnzz_stat_icon_1259025141'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1259025141%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));
        </script>
  </div>




        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Joyous's Home</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"jyhu"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






   
   
   
   
   <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
   <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
   <script type="text/javascript">
           var gitment = new Gitment({
               id: 'TableView之协议托管', 
               owner: 'JyHu',
               repo: 'jyhu.github.io',
               oauth: {
                   client_id: '003e599703f981da5794',
                   client_secret: 'ee79dc7f843ab5d840c91acf980c3c6bee95f7aa',
               }});
           gitment.render('gitment-container');
   </script>

  
  

  

  

  

</body>
</html>
